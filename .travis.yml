language: python
python:
  - "3.7"

dist: focal

install:
  - pip3 install pipenv
  - pipenv install

# command to run tests
script:
  - python3 -m pytest --cov-report term --cov=app 
  
before_script:
  - psql -c 'create database testdb;' -U postgres

services:
  - postgresql
  - memcached

addons:
  postgresql: "11"

after_success:
  - coveralls